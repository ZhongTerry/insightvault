# InsightVault 现代化情报库开发计划 (Development Roadmap)

## 0. 愿景与目标
将 InsightVault 从一个“带有搜索功能的记事本”进化为一个具备**感知、记忆、思考、表达**四个维度的“第二大脑”。

---

## 1. 路线规划 (Roadmap)

### 第一阶段：存储基座与多模态记忆 (Memory & Foundation) ✅ 已完成
**目标：** 强化现有的存储能力，支持多模态数据输入，解决"存得进、找得到"的问题。

**实施详情见：** [Phase1_Implementation_Summary.md](Phase1_Implementation_Summary.md)

*   ✅ **多模态解析支持：**
    *   集成 OCR (如 Tesseract/PaddleOCR) 处理图片中的文字。
    *   深度解析 PDF、Docx、PPT 元数据及正文内容。
    *   初步支持音视频转写 (ASR) 接口集成（如 Whisper）。
*   ✅ **混合存储优化：**
    *   完善 Relational (SQLite/PostgreSQL) 与 Vector (Chroma/Milvus) 的同步机制。
    *   引入版本控制及溯源系统，记录每一条情报的来源 URL 与原始截图。
*   ✅ **即时捕获 (Quick Capture)：**
    *   优化现有的 `mini.html` 与 `quick.html`，支持语音速记与拖拽上传。

### 第二阶段：加工层：自动化炼金 (Processing & Enrichment)
**目标：** 在数据入库时自动完成结构化，变“原始数据”为“有价情报”。

*   **LLM 自动结构化：**
    *   利用 LLM 提取人物、组织、时间、地理位置等实体 (NER)。
    *   智能打标系统：根据语义自动分配分类标签，不再依赖手动输入。
*   **事件专题合并：**
    *   实现自动去重与相近事件的聚类合并。
*   **实体链接 (Entity Linking)：**
    *   在展示页面（如 `detail.html`）自动将识别出的实体链接到库内已有词条。

### 第三阶段：思考层：深度检索与 RAG (Reasoning & Thinking) ✅ 已完成
**目标：** 让系统能够“思考”并主动呈现关联信息。

*   **混合检索提升 (Hybrid Search)：**
    *   结合关键词搜索与语义向量检索，支持统一分页与结果权重融合。
*   **Chat with Data (RAG)：**
    *   对话式检索界面，支持按标签与时间范围限定并给出引用来源。
*   **主动关联引擎 (Serendipity)：**
    *   详情侧边栏展示关联推荐与对立观点。

### 第四阶段：感知层：全渠道接入 (Perception)
*(注：根据需求，情报自动收集功能稍后完成)*

*   **RSS/Newsletter 聚合：**
    *   完善 `fetch_rss.py` 工具，实现关键源的定时自动拉取。
    *   开发被动订阅管理界面。
*   **全能剪藏 (Web Clipper)：**
    *   开发浏览器插件，实现网页正文的一键永久快照。
*   **IM / 机器人集成：**
    *   接入 Telegram/微信机器人接口，转发消息即完成快速录入。

### 第五阶段：表现层：可视化与仪式感 (Expression)
**目标：** 将枯燥的列表转变为直观的洞察视图。

*   **知识图谱可视化：**
    *   使用节点连线展示实体间的关系（如 A公司-投资-B公司）。
*   **动态时间轴 (Timeline)：**
    *   为专题（如“俄乌局势”）自动生成时间线视图。
*   **地理空间视界 (Map View)：**
    *   在地图上展示全球情报分布热力图。

---

## 2. 核心特性原则
1.  **Liquid (流动的)：** 数据应在不同视图和组件间无缝重组。
2.  **Privacy-First (隐私优先)：** 坚持数据所有权，优先支持本地部署与 Local LLM。
3.  **Agentic (代理式)：** 后端 Agent 定时自动化整理与日报推送。

---

## 3. 当前任务优先级 (Priority List)
1.  [x] 多模态文件解析器 (PDF/OCR) - **已完成**
2.  [ ] LLM 自动化标签与摘要提取
3.  [x] 混合检索算法优化
4.  [x] RAG 对话式检索
5.  [x] 关联推荐与对立观点
6.  [ ] 知识图谱初步构建 (实体提取与存储)
5.  [ ] (待定) RSS 自动抓取系统

---

## 4. 开发进度
- **第一阶段**: ✅ 完成 (2026-02-10)
  - 多模态解析器 (PDF/Word/PPT/图片/音频)
  - 存储优化与溯源系统
  - 自动入库与向量化
- **第二阶段**: 🔜 待开始
- **第三阶段**: ✅ 完成 (2026-02-10)
- **第四阶段**: 📋 规划中
- **第五阶段**: 📋 规划中
